<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" th:href="@{/css/login.css}"/>
</head>
<body>
    <div>
        <div class="container">
            <form action="/login" method="post" id="formLogin">
                <h1>Đăng nhập</h1>
                <label for="username">Tên đăng nhập</label>
                <input type="text" id="username" placeholder="Nhập tên đăng nhập" name="username">

                <label for="password">Mật khẩu</label>
                <input type="password" id="password" placeholder="Nhập mật khẩu" name="password">

                <div class="remember">
                    <input type="checkbox" id="myRemember" name="myRemember" value="true">
                    <label class="remember_label_checkbox">Ghi nhớ mật khẩu</label>
                </div>

                <button type="submit" onclick="checkValid()">Đăng nhập</button>
            </form>
            <div class="link__register__account">
                I don't have an account. <a href="/register"> Register account</a>
            </div>
        </div>
        <div class="alert alert-success mt-3 fadeout" style="display: none">
            <strong>alert-success!</strong>
        </div>
        <div class="alert alert-danger mt-3 fadeout"style="display: none">
            <strong>alert-danger!</strong>
        </div>
        <div class="alert alert-warning mt-3 fadeout"style="display: none">
            <strong>alert-warning!</strong>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script th:src="@{/js/login.js}"></script>
</body>

<script th:inline="javascript" >
    $(document).ready(function () {
        loadPage()
    })

    function loadPage() {
        let status = [[${status}]]
        let message = [[${message}]]

        if (status === 'success') {
            $('.alert-success').text(message)
            $('.alert-success').fadeIn(2000)
            setTimeout(function() {$('.alert-success').fadeOut(2000)}, 3000)
        }
        if (status === 'error') {
            $('.alert-danger').text(message)
            $('.alert-danger').fadeIn(2000)
            setTimeout(function () {$('.alert-danger').fadeOut(2000)}, 3000)
        }
        if (status === 'warning') {
            $('.alert-warning').text(message)
            $('.alert-warning').fadeIn(2000)
            setTimeout(function () {$('.alert-warning').fadeOut(2000)}, 3000)
        }
    }
</script>
</html>