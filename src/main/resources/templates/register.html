<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" th:href="@{/css/register.css}">
</head>
<body>
    <div class="register">
        <div class="container">
            <form action="/register" method="post" id="formRegister">
                <h1>Đăng ký</h1>
                <label for="name">Họ tên</label>
                <input type="text" placeholder="Nhập họ tên" id="name" name="name" >

                <label for="username">Tên đăng nhập</label>
                <input type="text" placeholder="Nhập tên đăng nhập" id="username" name="username" >

                <label for="email">Email</label>
                <input type="email" placeholder="Nhập email" id="email" name="email" >

                <label for="password">Mật khẩu</label>
                <input type="password" placeholder="Nhập mật khẩu" id="password" name="password" >

                <label for="confirmPassword">Xác nhận mật khẩu</label>
                <input type="password" placeholder="Nhập lại mật khẩu" id="confirmPassword" name="confirmPassword" >

                <label for="dob">Ngày sinh</label>
                <input type="date" id="dob" name="dob">

                <label for="gender">Giới tính</label>
                <select id="gender" name="gender">
                  <option value="male">Female</option>
                  <option value="female">Male</option>
                  <option value="other">Other</option>
                </select>

                <label for="role"></label>
                <select id="role" name="role">
                    <option value="1">Admin</option>
                    <option value="2">Customer</option>
                </select>

                <button type="submit" onclick="checkValid()">Đăng ký</button>
            </form>
            <div class="link__login__account">
                I already have an account.<a href="/login"> Login account</a>
            </div>
        </div>

        <div class="alert alert-success mt-3 fadeout" style="display: none">
            <strong>alert-success!</strong>
        </div>
        <div class="alert alert-danger mt-3 fadeout"style="display: none">
            <strong>alert-danger!</strong>
        </div>
        <div class="alert alert-warning mt-3 fadeout"style="display: none">
            <strong>alert-warning!</strong>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script th:src="@{/js/register.js}"></script>
</body>

<script th:inline="javascript" >
    $(document).ready(function () {
        loadPage()
    })

    function loadPage() {
        let status = [[${status}]]
        let message = [[${message}]]

        if (status === 'success') {
            $('.alert-success').text(message)
            $('.alert-success').fadeIn(2000)
            setTimeout(function() {$('.alert-success').fadeOut(2000)}, 3000)
        }
        if (status === 'error') {
            $('.alert-danger').text(message)
            $('.alert-danger').fadeIn(2000)
            setTimeout(function () {$('.alert-danger').fadeOut(2000)}, 3000)
        }
        if (status === 'warning') {
            $('.alert-warning').text(message)
            $('.alert-warning').fadeIn(2000)
            setTimeout(function () {$('.alert-warning').fadeOut(2000)}, 3000)
        }
    }
</script>
</html>